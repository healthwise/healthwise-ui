import { Meta, Story, Preview } from '@storybook/addon-docs/blocks';
import { action } from '@storybook/addon-actions'
import { ArgsTable } from '@storybook/addon-docs'

import DropDown from './index'

export const ContainerDecorator = storyFn => <div style={{ maxWidth: '450px' }}>{storyFn()}</div>

export const items = [
  'First option',
  'Second option',
  'Lorem ipsum dolor sit amet consectetur adipiscing elit. Phasellus lorem tellus scelerisque ut fermentum sit amet semper vel neque.',
]
export const complexItems = [
  { name: 'First complex option', value: 1 },
  { name: 'Second complex option', value: 2 },
  {
    name:
      'Lorem ipsum dolor sit amet consectetur adipiscing elit. Phasellus lorem tellus scelerisque ut fermentum sit amet semper vel neque.',
    value: 3,
  },
]
export const customKeyArray = [
  { text: 'First custom key option', id: 1 },
  { text: 'Second custom key option', id: 2 },
  {
    text:
      'Lorem ipsum dolor sit amet consectetur adipiscing elit. Phasellus lorem tellus scelerisque ut fermentum sit amet semper vel neque.',
    id: 3,
  },
]
export const manyItemArray = [
  '1',
  '2',
  '3',
  '4',
  '5',
  '6',
  '7',
  '8',
  '9',
  '10',
  '11',
  '12',
  '13',
  '14',
  '15',
  '16',
  '17',
  '18',
  '19',
  '20',
]

export const promptText = 'Select a value'

<Meta title="Form Controls/Drop Down" component={DropDown} decorators={[ ContainerDecorator ]} />

# Dropdown

Demonstrates default rendering of the component.

<Preview>
  <Story name="default">
    <DropDown items={items} onChange={action('selected')} />
  </Story>
</Preview>

Demonstrates component with underline styling.

<Preview>
  <Story name="underlined">
    <DropDown items={items} onChange={action('selected')} underlined />
  </Story>
</Preview>

Demonstrates component with default prompt.

<Preview>
  <Story name="prompt">
    <Fragment>
      <DropDown items={items} onChange={action('selected')} prompt={promptText} />
      <DropDown items={items} onChange={action('selected')} prompt={promptText} underlined />
    </Fragment>
  </Story>
</Preview>

Demonstrates rendering of the component with a label

<Preview>
  <Story name="labeled">
    <Fragment>
      <DropDown items={items} onChange={action('selected')} label="This is a label" />
      <DropDown
        items={items}
        onChange={action('selected')}
        label="This is a label"
        underlined
      />
    </Fragment>
  </Story>
</Preview>

Demonstrates rendering of the component with a preset (and uncontrolled) value.

<Preview>
  <Story name="preset value">
    <Fragment>
      <DropDown
        items={items}
        prompt={prompt}
        defaultValue="Second option"
        onChange={action('selected')}
      />
      <DropDown
        items={items}
        prompt={prompt}
        defaultValue="Second option"
        onChange={action('selected')}
        underlined
      />
    </Fragment>
  </Story>
</Preview>

Demonstrates rendering of the component with a set/controlled value.  The event is triggered, but the default text doesn't change.

<Preview>
  <Story name="unchanging value">
    <Fragment>
      <DropDown
        items={items}
        prompt={prompt}
        value="Second option"
        onChange={action('selected')}
      />
      <DropDown
        items={items}
        prompt={prompt}
        value="Second option"
        onChange={action('selected')}
        underlined
      />
    </Fragment>
  </Story>
</Preview>

Demonstrates rendering of the component when disabled.

<Preview>
  <Story name="disabled">
    <Fragment>
      <DropDown items={items} onChange={action('selected')} label="Test label" disabled />
      <DropDown
        items={items}
        onChange={action('selected')}
        label="Test label"
        disabled
        underlined
      />
    </Fragment>
  </Story>
</Preview>

Demonstrates rendering of the component when required.

<Preview>
  <Story name="required">
    <Fragment>
      <DropDown items={items} onChange={action('selected')} label="Test label" required />
      <DropDown
        items={items}
        onChange={action('selected')}
        label="Test label"
        required
        underlined
      />
    </Fragment>
  </Story>
</Preview>

Error property without text (boolean):

<Preview>
  <Story name="error">
    <Fragment>
      <DropDown items={items} onChange={action('selected')} label="Test label" error />
      <DropDown
        items={items}
        onChange={action('selected')}
        label="Test label"
        error
        underlined
      />
    <p>Error property with text:</p>
      <DropDown
        items={items}
        onChange={action('selected')}
        label="Test label"
        error="Error text here"
      />
      <DropDown
        items={items}
        onChange={action('selected')}
        label="Test label"
        error="Error text here"
        underlined
      />
    </Fragment>
  </Story>
</Preview>

Demonstrates rendering of the items from an array of objects.

<Preview>
  <Story name="complex items (object array)">
    <Fragment>
      <DropDown items={complexItems} prompt={prompt} onChange={action('selected')} />
      <DropDown items={complexItems} prompt={prompt} onChange={action('selected')} underlined />
    </Fragment>
  </Story>
</Preview>

Demonstrates rendering of the component with a preset value.

<Preview>
  <Story name="complex items and preset value">
    <Fragment>
      <DropDown
        items={complexItems}
        prompt={prompt}
        defaultValue="2"
        onChange={action('selected')}
      />
      <DropDown
        items={complexItems}
        prompt={prompt}
        defaultValue="2"
        onChange={action('selected')}
        underlined
      />
    </Fragment>
  </Story>
</Preview>

Use an array of objects, and specify the keys that reference each item's value and "friendly" name.

When passing in an array of objects to the `items` prop, you can use the `valueKey` and `nameKey` props to identify the property names of the object(s) being passed in.

<Preview>
  <Story name="custom keys">
    <Fragment>
      <DropDown items={customKeyArray} valueKey="id" nameKey="text" onChange={action('selected')} />
      <DropDown
        items={customKeyArray}
        valueKey="id"
        nameKey="text"
        onChange={action('selected')}
        underlined
      />
    </Fragment>
  </Story>
</Preview>

Demonstrates default rendering of the component with many items.

<Preview>
  <Story name="many items">
    <Fragment>
      <DropDown prompt={prompt} items={manyItemArray} onChange={action('selected')} />
      <DropDown prompt={prompt} items={manyItemArray} onChange={action('selected')} underlined />
    </Fragment>
  </Story>
</Preview>

## Props

<ArgsTable of={DropDown} />
